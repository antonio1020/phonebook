(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{40:function(e,t,n){"use strict";n.r(t);var o=n(16),c=n.n(o),r=n(4),u=n(3),s=n.n(u),l=n(2),i=n(0),a=function(e){var t=e.person,n=e.removePerson;return Object(i.jsxs)("li",{children:[t.name," ",t.number,Object(i.jsx)("button",{onClick:function(){return n(t.id)},children:"delete"})]})},d="/api/persons",b=function(){return s.a.get(d)},j=function(e){return s.a.post(d,e)},h=function(){var e=Object(l.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],c=Object(l.useState)(""),u=Object(r.a)(c,2),d=u[0],h=u[1],f=Object(l.useState)(""),m=Object(r.a)(f,2),p=m[0],O=m[1],g=Object(l.useState)(null),v=Object(r.a)(g,2),x=v[0],y=v[1],k=function(e){var t=e.message;return null===t?null:Object(i.jsx)("div",{style:{color:"brown",fontStyle:"italic",fontSize:20,background:"lightgrey",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},children:t})};Object(l.useEffect)((function(){b().then((function(e){o(e.data)}))}),[]),console.log("render");var w=n.filter((function(e){return e.name===d}));console.log(w.length);return Object(i.jsxs)("div",{children:[Object(i.jsx)(k,{message:x}),Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsxs)("form",{onSubmit:function(e){(e.preventDefault(),0===w.length)?j({name:d,number:p}).then((function(e){o(n.concat(e.data)),h(""),O(""),y("added"),setTimeout((function(){y(null)}),2e3)})):window.alert('"'.concat(d,'" is already added in the phonebook'))},children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:d,onChange:function(e){console.log(e.target.value),h(e.target.value)}})]}),Object(i.jsxs)("div",{children:["number: ",Object(i.jsx)("input",{value:p,onChange:function(e){console.log(e.target.value),O(e.target.value)}})]}),Object(i.jsx)("button",{type:"submit",children:"add"})]}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)("ul",{children:n.map((function(e){return Object(i.jsx)(a,{person:e,removePerson:function(){return function(e){var t="http://localhost:3001/api/persons/".concat(e);window.confirm("do you really want to deleter this user?")&&(s.a.delete(t).then((function(t){o(n.filter((function(t){return t.id!==e}))),y("removed"),setTimeout((function(){y(null)}),2e3)})),console.log("person number ".concat(e," successfully deleted")))}(e.id)}},e.name)}))})]})},f=s.a.get("http://localhost:3001/persons");console.log(f),c.a.render(Object(i.jsx)(h,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.899f794c.chunk.js.map