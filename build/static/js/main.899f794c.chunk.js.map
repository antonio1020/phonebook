{"version":3,"sources":["components/Person.js","services/persons.js","App.js","index.js"],"names":["Person","person","removePerson","name","number","onClick","id","baseUrl","axios","get","newObject","post","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","notificationMessage","setNotificationMessage","Notification","message","style","color","fontStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","useEffect","personService","then","response","data","console","log","dupes","filter","length","onSubmit","event","preventDefault","concat","setTimeout","window","alert","value","onChange","target","type","map","url","confirm","delete","removePersonOf","promise","ReactDOM","render","document","getElementById"],"mappings":"wKAYeA,EATA,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OACE,+BAAKD,EAAOE,KAAZ,IAAmBF,EAAOG,OAE1B,wBAAQC,QAAS,kBAAMH,EAAaD,EAAOK,KAA3C,wBCLEC,EAAU,eAwBD,EAtBA,WACb,OAAOC,IAAMC,IAAIF,IAqBJ,EAlBA,SAAAG,GACb,OAAOF,IAAMG,KAAKJ,EAASG,ICgIdE,EAlIH,WAAO,IAAD,EAEcC,mBAAS,IAFvB,mBAETC,EAFS,KAEAC,EAFA,OAGgBF,mBAAS,IAHzB,mBAGRG,EAHQ,KAGCC,EAHD,OAIoBJ,mBAAS,IAJ7B,mBAIRK,EAJQ,KAIGC,EAJH,OAKsCN,mBAAS,MAL/C,mBAKTO,EALS,KAKYC,EALZ,KA+BZC,EAAe,SAAC,GAAc,IAAbC,EAAY,EAAZA,QAWtB,OAAc,OAAVA,EACK,KAGP,qBAAKC,MAdoB,CACxBC,MAAO,QACPC,UAAW,SACXC,SAAU,GACVC,WAAY,YACZC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAMf,SACCT,KAKFU,qBAAU,WACJC,IAECC,MAAK,SAAAC,GACJrB,EAAWqB,EAASC,WAEzB,IACHC,QAAQC,IAAI,UAGZ,IAUMC,EAAQ1B,EAAQ2B,QAAO,SAACD,GAAD,OAC7BA,EAAMrC,OAASa,KAEjBsB,QAAQC,IAAIC,EAAME,QA6BhB,OACE,gCACE,cAACpB,EAAD,CAAcC,QAASH,IACvB,2CACA,uBACEuB,SA/BU,SAACC,IACjBA,EAAMC,iBACe,IAAjBL,EAAME,QAKVR,EAJqB,CACnB/B,KAAMa,EACNZ,OAAQc,IAITiB,MAAK,SAAAC,GACJrB,EAAWD,EAAQgC,OAAOV,EAASC,OACnCpB,EAAW,IACXE,EAAa,IACbE,EAAuB,SACvB0B,YAAW,WACT1B,EAAuB,QACvB,QAOJ2B,OAAOC,MAAP,WAAiBjC,EAAjB,yCAOI,UAEI,yCAAW,uBAAOkC,MAAOlC,EACzBmC,SAjDiB,SAACP,GACxBN,QAAQC,IAAIK,EAAMQ,OAAOF,OACzBjC,EAAW2B,EAAMQ,OAAOF,aAgDlB,2CAAa,uBAAOA,MAAOhC,EAC3BiC,SA9CmB,SAACP,GAC1BN,QAAQC,IAAIK,EAAMQ,OAAOF,OACzB/B,EAAayB,EAAMQ,OAAOF,aA8CpB,wBAAQG,KAAK,SAAb,oBAEJ,yCACA,6BACGvC,EAAQwC,KAAI,SAAArD,GAAM,OACf,cAAC,EAAD,CAA0BA,OAAQA,EAClCC,aAAc,kBAhHD,SAACI,GACtB,IAAMiD,EAAG,4CAAwCjD,GACjD0C,OAAOQ,QAAQ,8CACfhD,IAAMiD,OAAOF,GAAKpB,MAAK,SAAAC,GAGrBrB,EAAWD,EAAQ2B,QAAO,SAAAxC,GAAM,OAAIA,EAAOK,KAAOA,MAClDe,EAAuB,WACvB0B,YAAW,WACT1B,EAAuB,QACvB,QAMNiB,QAAQC,IAAR,wBAA6BjC,EAA7B,2BAgG8BoD,CAAezD,EAAOK,MAD7BL,EAAOE,eC3H1BwD,EAAUnD,IAAMC,IAAI,iCAC1B6B,QAAQC,IAAIoB,GAKZC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.899f794c.chunk.js","sourcesContent":["   \nimport React from 'react'\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <li>{person.name} {person.number}\n    {/* <button onClick={removePerson}>remove</button> */}\n    <button onClick={() => removePerson(person.id)}>delete</button>\n    </li>\n  )\n}\n\nexport default Person","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst f = respond => {\n    console.log(respond.data)\n    return respond.data\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(f)\n  }\n\n// const update = (id, newObject) => {\n//   return axios.put(`${baseUrl}/${id}`, newObject)\n// }\n\nexport default { \n  getAll: getAll, \n  create: create, \n  remove: remove,\n//   update: update \n}","import axios from 'axios'\nimport React, { useState, useEffect } from 'react'\n// import axios from 'axios'\nimport Person from './components/Person.js'\nimport personService from './services/persons'\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  // const notificationStyle = {\n  //   color: 'green'\n  // }\n  const removePersonOf = (id) => {\n    const url = `http://localhost:3001/api/persons/${id}`\nif (window.confirm(\"do you really want to deleter this user?\")){\n    axios.delete(url).then(response => {\n      // console.log(response + response.data)\n      // setPersons(persons.map(person => person.id !== id ? person : response.data))\n      setPersons(persons.filter(person => person.id !== id))\n      setNotificationMessage('removed')\n      setTimeout(() => {\n        setNotificationMessage(null)\n      },2000)\n    })\n\n    // personService\n    // .remove(id)\n\n  console.log(`person number ${id} successfully deleted`)\n  }\n  return\n  \n}\n\nconst Notification = ({message})=> {\n  const notificationStyle = {\n    color: 'brown',\n    fontStyle: 'italic',\n    fontSize: 20,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n if (message===null){\n   return null\n }\n return (\n   <div style={notificationStyle}>\n   {message}\n   </div>\n )\n}\n\n  useEffect(() => {\n        personService\n        .getAll()\n        .then(response => {\n          setPersons(response.data)\n        })\n  }, [])\n  console.log('render')\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value);\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value)\n  }\n  \n  const dupes = persons.filter((dupes) =>\n  dupes.name === newName\n)\nconsole.log(dupes.length);\n\n\nconst addPerson = (event) => {\n  event.preventDefault()\n  if (dupes.length === 0){\n  const personObject = {\n    name: newName,\n    number: newNumber\n  }\n  personService\n  .create(personObject)\n  .then(response => {\n    setPersons(persons.concat(response.data))\n    setNewName('')\n    setNewNumber('')\n    setNotificationMessage('added')\n    setTimeout(() => {\n      setNotificationMessage(null)\n    },2000)\n  })\n\n  \n\n}\nelse {\n  window.alert(`\"${newName}\" is already added in the phonebook`);\n}}\n\n  return (\n    <div>\n      <Notification message={notificationMessage}/>\n      <h2>Phonebook</h2>\n      <form\n        onSubmit = {addPerson}>\n          <div>name: <input value={newName}\n          onChange={handleNameChange}/></div>\n          <div>number: <input value={newNumber}\n          onChange={handleNumberChange}/></div>\n          \n          <button type=\"submit\">add</button>\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map(person => \n            <Person key={person.name} person={person}\n            removePerson={() => removePersonOf(person.id)}/>\n        )}\n      </ul>\n    </div>\n  )\n}\n\n\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport axios from 'axios'\n\nconst promise = axios.get('http://localhost:3001/persons')\nconsole.log(promise)\n\n// const promise2 = axios.get('http://localhost:3001/foobar')\n// console.log(promise2)\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}